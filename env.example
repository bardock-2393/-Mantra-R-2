# AI Video Detective - Environment Configuration Example
# Copy this file to .env and modify the values as needed

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENV=development
DEBUG=true
SECRET_KEY=your-secret-key-here-change-this-in-production

# =============================================================================
# DISTRIBUTED ARCHITECTURE
# =============================================================================
# Set to true if this is the remote GPU server
IS_REMOTE_SERVER=false

# URL of the remote GPU server (for local development)
REMOTE_GPU_SERVER_URL=http://localhost:8001

# =============================================================================
# GPU CONFIGURATION
# =============================================================================
# Number of GPUs available (7 for A100 setup)
NUM_GPUS=7

# GPU memory per GPU in GB
GPU_MEMORY_GB=80

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================
# LLaVA model for video understanding
LLAVA_MODEL=llava-hf/LLaVA-NeXT-Video-7B-hf

# Device for LLaVA model (GPU 5)
LLAVA_DEVICE=cuda:5

# Object detection model
DETECTION_MODEL=RT-DETR-v2

# Device for detection models (GPU 0-3)
DETECTION_DEVICE=cuda:0

# Whisper model for speech recognition
WHISPER_MODEL=base

# AudioCLIP model for audio understanding
AUDIOCLIP_MODEL=default

# Wav2Vec2 model for audio feature extraction
WAV2VEC2_MODEL=facebook/wav2vec2-base

# TensorRT optimization
TENSORRT_ENABLED=true
TENSORRT_PRECISION=fp16
TENSORRT_ENGINE_DIR=./tensorrt_engines

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================
# Target FPS for video processing
TARGET_FPS=90

# Enable adaptive sampling
ADAPTIVE_SAMPLING=true

# Global FPS for processing
GLOBAL_FPS=6

# Motion detection FPS
MOTION_FPS=16

# Change detection FPS
CHANGE_FPS=24

# Window size for processing in seconds
WINDOW_SECONDS=20

# Overlap between windows in seconds
OVERLAP_SECONDS=2

# Enable audio processing
AUDIO_ENABLED=true

# Audio sample rate
AUDIO_SAMPLE_RATE=16000

# Audio chunk duration in seconds
AUDIO_CHUNK_DURATION=30.0

# Enable temporal alignment
TEMPORAL_ALIGNMENT=true

# Enable audio-visual synchronization
AUDIO_VISUAL_SYNC=true

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
# Local upload directory
LOCAL_UPLOAD_DIR=./static/uploads

# Local temporary directory
LOCAL_TEMP_DIR=./temp

# Remote storage URL (S3 or other)
REMOTE_STORAGE_URL=s3://ai-video-detective

# Use S3 for storage
USE_S3=false

# DuckDB database path
DUCKDB_PATH=./data/events.duckdb

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
# Local host address
LOCAL_HOST=0.0.0.0

# Local ports (comma-separated)
LOCAL_PORTS=8888,8080,8000

# API timeout in seconds
API_TIMEOUT=30

# Maximum file size in bytes (1GB)
MAX_FILE_SIZE=1073741824

# Chunk size for file uploads
CHUNK_SIZE=8192

# WebSocket ping timeout
WEBSOCKET_PING_TIMEOUT=10

# WebSocket ping interval
WEBSOCKET_PING_INTERVAL=25

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis host
REDIS_HOST=localhost

# Redis port
REDIS_PORT=6379

# Redis database number
REDIS_DB=0

# Redis password (optional)
REDIS_PASSWORD=

# =============================================================================
# RAY CONFIGURATION
# =============================================================================
# Ray cluster address
RAY_ADDRESS=auto

# Number of CPUs for Ray
RAY_NUM_CPUS=8

# Object store memory in bytes (1GB)
RAY_OBJECT_STORE_MEMORY=1000000000

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================
# Analysis types (comma-separated)
ANALYSIS_TYPES=comprehensive_analysis,safety_investigation,performance_analysis,pattern_detection,creative_review

# Enable rules engine
RULES_ENABLED=true

# Domain-agnostic analysis
DOMAIN_AGNOSTIC=true

# Confidence threshold for detection
CONFIDENCE_THRESHOLD=0.5

# NMS threshold
NMS_THRESHOLD=0.4

# Target query latency in milliseconds
TARGET_QUERY_LATENCY_MS=600

# Target throughput in FPS
TARGET_THROUGHPUT_FPS=90

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Allowed IP addresses (comma-separated)
ALLOWED_IPS=127.0.0.1,localhost,0.0.0.0

# Require API key
API_KEY_REQUIRED=false

# CORS origins (comma-separated)
CORS_ORIGINS=*

# Scan uploads for security
SCAN_UPLOADS=true

# Maximum number of files
MAX_FILE_COUNT=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level
LOG_LEVEL=INFO

# Log file path
LOG_FILE=./logs/ai_video_detective.log

# Enable structured logging
STRUCTURED_LOGGING=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Enable GPU memory optimization
GPU_MEMORY_OPTIMIZATION=true

# Enable TensorRT optimization
TENSORRT_OPTIMIZATION=true

# Enable Ray optimization
RAY_OPTIMIZATION=true

# Enable Redis optimization
REDIS_OPTIMIZATION=true

# Enable DuckDB optimization
DUCKDB_OPTIMIZATION=true 